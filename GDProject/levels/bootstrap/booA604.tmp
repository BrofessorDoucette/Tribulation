[gd_scene load_steps=7 format=3 uid="uid://bojtkjk7imjs0"]

[ext_resource type="PackedScene" uid="uid://tw0w68y5yj6v" path="res://levels/main_menu/main_menu.tscn" id="1_5wv8t"]
[ext_resource type="Script" path="res://levels/bootstrap/LevelManager.gd" id="1_nh5kf"]
[ext_resource type="Script" path="res://levels/bootstrap/Bootstrap.gd" id="1_y7uu3"]
[ext_resource type="PackedScene" uid="uid://dpgubgnmiabow" path="res://levels/dark_world_prototype/dark_world_prototype.tscn" id="3_05jh2"]
[ext_resource type="Script" path="res://levels/bootstrap/NetworkManager.gd" id="4_h345w"]
[ext_resource type="PackedScene" uid="uid://c87tjohvhe6k1" path="res://player/Player.tscn" id="4_ywnnb"]

[node name="Bootstrap" type="Node3D" node_paths=PackedStringArray("_networkManager")]
script = ExtResource("1_y7uu3")
_networkManager = NodePath("NetworkManager")

[node name="LevelSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://levels/dark_world_prototype/dark_world_prototype.tscn")
spawn_path = NodePath("../LevelManager/NetworkSpawnPath")

[node name="LevelManager" type="Node" parent="." node_paths=PackedStringArray("_networkManager", "_networkSpawnPath", "_multiplayerSpawner")]
script = ExtResource("1_nh5kf")
_networkManager = NodePath("../NetworkManager")
_networkSpawnPath = NodePath("NetworkSpawnPath")
_multiplayerSpawner = NodePath("../LevelSpawner")
_startScene = ExtResource("3_05jh2")
_playerScene = ExtResource("4_ywnnb")

[node name="NetworkSpawnPath" type="Node" parent="LevelManager"]

[node name="MainMenu" parent="LevelManager/NetworkSpawnPath" instance=ExtResource("1_5wv8t")]

[node name="Overlay" parent="LevelManager/NetworkSpawnPath/MainMenu" index="1" node_paths=PackedStringArray("_levelManager", "_networkManger")]
_startScene = ExtResource("3_05jh2")
_levelManager = NodePath("../../..")
_networkManger = NodePath("../../../../NetworkManager")

[node name="NetworkManager" type="Node" parent="."]
script = ExtResource("4_h345w")
_debug = true
_maxLobbySize = 4

[editable path="LevelManager/NetworkSpawnPath/MainMenu"]
