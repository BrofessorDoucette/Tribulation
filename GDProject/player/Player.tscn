[gd_scene load_steps=16 format=3 uid="uid://c87tjohvhe6k1"]

[ext_resource type="Script" path="res://player/Player.gd" id="1_jki30"]
[ext_resource type="PackedScene" uid="uid://804vkkkkxmu4" path="res://player/BasicCharacter_Rigged_Animated_Painted.glb" id="1_vyp1u"]
[ext_resource type="Script" path="res://player/PlayerInput.gd" id="3_6s5hy"]
[ext_resource type="AnimationLibrary" uid="uid://c726gilkqsacx" path="res://player/playerAnimations.res" id="3_d1ci4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7yohb"]
radius = 0.2
height = 1.5

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_epx64"]
properties/0/path = NodePath(".:playerID")
properties/0/spawn = true
properties/0/replication_mode = 0
properties/1/path = NodePath(".:position")
properties/1/spawn = true
properties/1/replication_mode = 0
properties/2/path = NodePath(".:velocity")
properties/2/spawn = true
properties/2/replication_mode = 0
properties/3/path = NodePath(".:rotation")
properties/3/spawn = true
properties/3/replication_mode = 0
properties/4/path = NodePath(".:name")
properties/4/spawn = true
properties/4/replication_mode = 0

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_y6jru"]
properties/0/path = NodePath("PlayerInput:direction")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath("PlayerInput:running")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("PlayerInput:jumping")
properties/2/spawn = true
properties/2/replication_mode = 1

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yfqdo"]
animation = &"Standing"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_molxm"]
input_0/name = "Strafe"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "Idle"
input_1/auto_advance = false
input_1/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jdppb"]
animation = &"WalkForwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s8ad5"]
animation = &"WalkBackwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rj5l0"]
animation = &"WalkLeft"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6selb"]
animation = &"WalkRight"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_fy3s6"]
blend_point_0/node = SubResource("AnimationNodeAnimation_jdppb")
blend_point_0/pos = Vector2(0, 0.9)
blend_point_1/node = SubResource("AnimationNodeAnimation_s8ad5")
blend_point_1/pos = Vector2(0, -0.9)
blend_point_2/node = SubResource("AnimationNodeAnimation_rj5l0")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_6selb")
blend_point_3/pos = Vector2(1, 0)

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_b8gca"]
graph_offset = Vector2(-748.485, 89.708)
nodes/Idle/node = SubResource("AnimationNodeAnimation_yfqdo")
nodes/Idle/position = Vector2(-200, 240)
nodes/StateMachine/node = SubResource("AnimationNodeTransition_molxm")
nodes/StateMachine/position = Vector2(40, 60)
nodes/Strafe/node = SubResource("AnimationNodeBlendSpace2D_fy3s6")
nodes/Strafe/position = Vector2(-220, 40)
node_connections = [&"StateMachine", 0, &"Strafe", &"StateMachine", 1, &"Idle", &"output", 0, &"StateMachine"]

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("CameraPivot", "Camera", "_rayCast", "_animationTree")]
script = ExtResource("1_jki30")
MouseSensitivity = 0.4
CameraPivot = NodePath("CameraPivot")
Camera = NodePath("CameraPivot/Camera")
_rayCast = NodePath("CameraPivot/Camera/RayCast")
CameraOffset = Vector3(0.617, 0.271, 1.343)
DefaultCameraOffsetMultiplier = 1.0
MinCameraOffsetMultiplier = 0.5
MaxCameraOffsetMultiplier = 2.0
CameraOffsetIncrement = 0.1
_animationTree = NodePath("AnimationTree")

[node name="Imported" parent="." instance=ExtResource("1_vyp1u")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="Imported/Armature" index="0"]
bones/1/rotation = Quaternion(-0.686067, -0.00431834, 0.00130068, 0.727525)
bones/5/rotation = Quaternion(-0.0245351, 0.0877023, -0.646915, 0.757105)
bones/6/rotation = Quaternion(0.00312723, -0.000153159, 0.000549958, 0.999995)
bones/13/rotation = Quaternion(0.19584, 0.000783771, 0.00553975, 0.98062)
bones/14/rotation = Quaternion(-0.100516, -7.90741e-11, 6.07503e-05, 0.994935)
bones/15/rotation = Quaternion(-0.0045022, -0.0112206, 0.716775, 0.6972)
bones/16/rotation = Quaternion(-0.0480844, -0.0958003, 0.638205, 0.762367)
bones/17/rotation = Quaternion(0.00313193, 0.000153169, -0.000550791, 0.999995)
bones/18/rotation = Quaternion(-0.0136286, -0.000160489, -0.0181196, 0.999743)
bones/24/rotation = Quaternion(0.0304383, 0.0458765, 0.998258, -0.0212104)
bones/24/scale = Vector3(0.999995, 0.999999, 0.999948)
bones/25/rotation = Quaternion(-0.0259977, 0.0190551, -0.0147472, 0.999372)
bones/26/rotation = Quaternion(0.455205, 0.0818677, 0.0995957, 0.881003)
bones/27/rotation = Quaternion(0.200477, -0.116796, -0.00443733, 0.972701)
bones/28/rotation = Quaternion(-0.0304107, 0.0456515, 0.998414, 0.0126566)
bones/28/scale = Vector3(1, 1, 1.0001)
bones/29/rotation = Quaternion(-0.0260364, -0.0190549, 0.0147696, 0.99937)
bones/31/rotation = Quaternion(0.200482, 0.116795, 0.00443759, 0.972701)
bones/32/rotation = Quaternion(-0.0611878, 0.94061, -0.331329, 0.0415903)
bones/33/position = Vector3(0.257567, 0.167389, -0.665291)
bones/34/position = Vector3(0.20332, 0.0976429, -1.12252)
bones/36/rotation = Quaternion(0.0524208, 0.940886, -0.331893, -0.0428061)
bones/37/position = Vector3(-0.329622, 0.13591, -0.167807)
bones/38/position = Vector3(-0.260166, -0.0362959, -0.873073)

[node name="AnimationPlayer" parent="Imported" index="1"]
libraries = {
"": ExtResource("3_d1ci4")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, 0)
shape = SubResource("CapsuleShape3D_7yohb")

[node name="CameraPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.48202, 0)

[node name="Camera" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.617, 0.271, 1.343)

[node name="RayCast" type="RayCast3D" parent="CameraPivot/Camera"]
target_position = Vector3(0, 0, -3)

[node name="TransformSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_epx64")

[node name="PlayerInput" type="MultiplayerSynchronizer" parent="." node_paths=PackedStringArray("_player")]
replication_config = SubResource("SceneReplicationConfig_y6jru")
script = ExtResource("3_6s5hy")
_player = NodePath("..")

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Imported")
tree_root = SubResource("AnimationNodeBlendTree_b8gca")
anim_player = NodePath("../Imported/AnimationPlayer")
parameters/StateMachine/current_state = "Idle"
parameters/StateMachine/transition_request = ""
parameters/StateMachine/current_index = 1
parameters/Strafe/blend_position = Vector2(0, 0)

[editable path="Imported"]
